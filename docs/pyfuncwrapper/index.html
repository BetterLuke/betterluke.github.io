<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>方法/函数的装饰器</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css%3Fv=55c99b5a62.css" />

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
    <link rel="canonical" href="index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="amp/index.html" />
    
    <meta property="og:site_name" content="TimePocket" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="方法/函数的装饰器" />
    <meta property="og:description" content="装饰器语法一开始有点让你犯迷糊，但是一旦你适应了，唯一困扰你的就是什么时候使用带参数的装饰器，不带参数的装饰器。" />
    <meta property="og:url" content="https://ghost.blingblingbling.life/pyfuncwrapper/" />
    <meta property="og:image" content="https://images.unsplash.com/photo-1525351326368-efbb5cb6814d?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;1e9186f9bc142572181850bb72673625" />
    <meta property="article:published_time" content="2017-06-07T17:39:00.000Z" />
    <meta property="article:modified_time" content="2018-05-03T18:37:07.000Z" />
    <meta property="article:tag" content="Python" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="方法/函数的装饰器" />
    <meta name="twitter:description" content="装饰器语法一开始有点让你犯迷糊，但是一旦你适应了，唯一困扰你的就是什么时候使用带参数的装饰器，不带参数的装饰器。" />
    <meta name="twitter:url" content="https://ghost.blingblingbling.life/pyfuncwrapper/" />
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1525351326368-efbb5cb6814d?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;1e9186f9bc142572181850bb72673625" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="luke" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Python" />
    <meta property="og:image:width" content="1080" />
    <meta property="og:image:height" content="1080" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "TimePocket",
        "logo": {
            "@type": "ImageObject",
            "url": "https://ghost.blingblingbling.life/favicon.ico",
            "width": 48,
            "height": 48
        }
    },
    "author": {
        "@type": "Person",
        "name": "luke",
        "url": "https://ghost.blingblingbling.life/author/luke/",
        "sameAs": []
    },
    "headline": "方法/函数的装饰器",
    "url": "https://ghost.blingblingbling.life/pyfuncwrapper/",
    "datePublished": "2017-06-07T17:39:00.000Z",
    "dateModified": "2018-05-03T18:37:07.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://images.unsplash.com/photo-1525351326368-efbb5cb6814d?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ&s=1e9186f9bc142572181850bb72673625",
        "width": 1080,
        "height": 1080
    },
    "keywords": "Python",
    "description": "装饰器语法一开始有点让你犯迷糊，但是一旦你适应了，唯一困扰你的就是什么时候使用带参数的装饰器，不带参数的装饰器。",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://ghost.blingblingbling.life/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.1" />
    <link rel="alternate" type="application/rss+xml" title="TimePocket" href="../rss/index.html" />
    <link href="https://cdn.bootcss.com/highlight.js/8.0/styles/monokai_sublime.min.css" rel="stylesheet">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-113807305-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-113807305-1');
</script>

</head>
<body class="post-template tag-python">

    <div class="site-wrapper">

        

<header class="site-header">
    <div class="outer site-nav-main">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left-wrapper">
        <div class="site-nav-left">
                <a class="site-nav-logo" href="../index.html">TimePocket</a>
            <div class="site-nav-content">
                    <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="../index.html">Home</a></li>
    <li class="nav-me" role="menuitem"><a href="../author/luke/index.html">Me</a></li>
    <li class="nav-about" role="menuitem"><a href="../about/index.html">About</a></li>
</ul>

                    <span class="nav-post-title dash">方法/函数的装饰器</span>
            </div>
        </div>
    </div>
    <div class="site-nav-right">
            <div class="social-links">
            </div>
                <a class="rss-button" href="https://feedly.com/i/subscription/feed/https://ghost.blingblingbling.life/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>

    </div>
</nav>
    </div>
</div></header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-python ">

            <header class="post-full-header">

                <section class="post-full-tags">
                    <a href="../tag/python/index.html">Python</a>
                </section>

                <h1 class="post-full-title">方法/函数的装饰器</h1>

                <p class="post-full-custom-excerpt">装饰器语法一开始有点让你犯迷糊，但是一旦你适应了，唯一困扰你的就是什么时候使用带参数的装饰器，不带参数的装饰器。</p>

                <div class="post-full-byline">

                    <section class="post-full-byline-content">

                        <ul class="author-list">
                            <li class="author-list-item">

                                <div class="author-card">
                                    <div class="author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
</div>
                                    <div class="author-info">
                                        <h2>luke</h2>
                                        <p>Read <a href="../author/luke/index.html">more posts</a> by this author.</p>
                                    </div>
                                </div>

                                <a href="../author/luke/index.html" class="author-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
</a>

                            </li>
                        </ul>

                        <section class="post-full-byline-meta">
                            <h4 class="author-name"><a href="../author/luke/index.html">luke</a></h4>
                            <div class="byline-meta-content">
                                <time class="byline-meta-date" datetime="2017-06-07">7 Jun 2017</time>
                                <span class="byline-reading-time"><span class="bull">&bull;</span> 4 min read</span>
                            </div>
                        </section>

                    </section>


                </div>
            </header>

            <figure class="post-full-image">
                <img
                    srcset="https://images.unsplash.com/photo-1525351326368-efbb5cb6814d?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;1e9186f9bc142572181850bb72673625 300w,
                            https://images.unsplash.com/photo-1525351326368-efbb5cb6814d?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;1e9186f9bc142572181850bb72673625 600w,
                            https://images.unsplash.com/photo-1525351326368-efbb5cb6814d?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;1e9186f9bc142572181850bb72673625 1000w,
                            https://images.unsplash.com/photo-1525351326368-efbb5cb6814d?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;1e9186f9bc142572181850bb72673625 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="https://images.unsplash.com/photo-1525351326368-efbb5cb6814d?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;1e9186f9bc142572181850bb72673625"
                    alt="方法/函数的装饰器"
                />
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <!--kg-card-begin: markdown--><h1 id="">方法/函数的装饰器</h1>
<blockquote>
<p>装饰器语法一开始有点让你犯迷糊，但是一旦你适应了，唯一困扰你的就是什么时候使用带参数的装饰器，不带参数的装饰器。</p>
</blockquote>
<p>神书《Python核心编程》一句用数学表达式引入的教学方式，我首先犯迷糊，然后高潮了：</p>
<blockquote>
<p>函数组合用数学定义就像这样：(g·f)(x) = g(f(x))。对于Python中的一致性：</p>
<pre><code class="language-python">@g
@f
def foo():
...
与foo=g(f(foo))相同。
</code></pre>
</blockquote>
<p>诚然，装饰器实际上就是函数。之前自己一直困于<strong>函数式编程</strong>这一逼格满满的词汇表达，所以之前在学JavaScript面向对象时不少犯迷糊。之前学的数学知识许久没用（捂脸）都快忘了，然后看到以这种方式带入的讲解后，彻悟的那种快感降临！——所谓的以函数作为对象传来传去的函数式编程，不就是之前高中数学里讲的复合函数嘛。</p>
<h2 id="">有参数的装饰器</h2>
<p>有参数的装饰器函数先用参数办点事，返回函数对象，而该函数对象正是以被修饰的函数作为参数的装饰器函数对象。</p>
<p>看代码：</p>
<pre><code class="language-python">@decomaker(deco_args)
def foo(): pass
</code></pre>
<p>等价于：</p>
<pre><code class="language-python">foo = decomaker(deco_args)(foo)
</code></pre>
<p>然后，再看多个装饰器的例子:</p>
<pre><code class="language-python">@deco1(deco_arg)
@deco2
def foo(): pass
</code></pre>
<p>等价于：</p>
<pre><code class="language-python">foo = deco1(deco_arg)(deco2(foo))
</code></pre>
<p><strong>感悟：</strong> 因为数学中的复合函数的复合顺序不同，所得出的复合函数表达式自然不同，所以我有理由认为如果多个装饰器函数的话，它们的顺序不同，所得到的被修饰函数的最终体现也是不同的。</p>
<h2 id="functools">装饰器的高阶操作——<code>functools</code></h2>
<p>这里主要记下自己使用的两个方法：</p>
<ul>
<li>functools.update_wrapper(wrapper, wrapped[, assigned][, updated])</li>
<li>functools.wraps(wrapped[, assigned][, updated])</li>
</ul>
<p>先看官方文档：</p>
<blockquote>
<p>Update a wrapper function to look like the wrapped function. The optional arguments are tuples to specify which attributes of the original function are assigned directly to the matching attributes on the wrapper function and which attributes of the wrapper function are updated with the corresponding attributes from the original function. The default values for these arguments are the module level constants WRAPPER_ASSIGNMENTS (which assigns to the wrapper function’s <strong>name</strong>, <strong>module</strong> and <strong>doc</strong>, the documentation string) and WRAPPER_UPDATES (which updates the wrapper function’s <strong>dict</strong>, i.e. the instance dictionary).</p>
</blockquote>
<blockquote>
<p>The main intended use for this function is in decorator functions which wrap the decorated function and return the wrapper. If the wrapper function is not updated, the metadata of the returned function will reflect the wrapper definition rather than the original function definition, which is typically less than helpful.</p>
</blockquote>
<p>其实这两种方法，都是用来修改装饰器函数的内置属性，如__name__, <strong>module</strong> and <strong>doc</strong>，对应到被修饰的函数的内置属性__name__, <strong>module</strong> and <strong>doc</strong>，让装饰器函数自身的内置属性与被装饰函数相同。如果未更新装饰器函数，则返回函数的元数据将是装饰器函数的定义，而不是原始函数定义，这通常不太有用。这就好像《屌丝男士》里乔杉怀着一个美好的憧憬去找“大保健”，人家却给的是“大宝剑”。这就很尴尬了，所以，在自己定义装饰器函数的时候，注意更新装饰器的内置属性。</p>
<h2 id="update_wrapper">一般用法update_wrapper()</h2>
<pre><code class="language-python">
update_wrapper(wrapper_function,wrapped_function)
#例如：

def ratelimit(limit, per=300, send_x_headers=True,
              over_limit=on_over_limit,
              scope_func=lambda: request.remote_addr,
              key_func=lambda: request.endpoint):
    def decorator(f):
        def rate_limited(*args, **kwargs):
            key = 'rate-limit/%s/%s/' % (key_func(), scope_func())
            rlimit = RateLimit(key, limit, per, send_x_headers)
            g._view_rate_limit = rlimit
            if over_limit is not None and rlimit.over_limit:
                return over_limit(rlimit)
            return f(*args, **kwargs)
        return update_wrapper(rate_limited, f)
    return decorator
</code></pre>
<h2 id="wraps">简单快捷用wraps()</h2>
<blockquote>
<p>This is a convenience function for invoking update_wrapper() as a function decorator when defining a wrapper function.</p>
</blockquote>
<p>而且因为本身wraps()就是一个装饰器函数，所以使用起来比update_wrapper()更加方便且高级。</p>
<pre><code class="language-python">&gt;&gt;&gt; from functools import wraps
&gt;&gt;&gt; def my_decorator(f):
...     @wraps(f)
...     def wrapper(*args, **kwds):
...         print 'Calling decorated function'
...         return f(*args, **kwds)
...     return wrapper
...
&gt;&gt;&gt; @my_decorator
... def example():
...     &quot;&quot;&quot;Docstring&quot;&quot;&quot;
...     print 'Called example function'
...
&gt;&gt;&gt; example()
Calling decorated function
Called example function
&gt;&gt;&gt; example.__name__
'example'
&gt;&gt;&gt; example.__doc__
'Docstring'
</code></pre>
<!--kg-card-end: markdown-->
                </div>
            </section>



        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
                <article class="read-next-card">
                    <header class="read-next-card-header">
                        <h3><span>More in</span> <a href="../tag/python/index.html">Python</a></h3>
                    </header>
                    <div class="read-next-card-content">
                        <ul>
                            <li>
                                <h4><a href="../flaskde-shu-ju-yan-zheng/index.html">Flask的数据验证</a></h4>
                                <div class="read-next-card-meta">
                                    <p><time datetime="2018-08-06">6 Aug 2018</time> –
                                        2 min read</p>
                                </div>
                            </li>
                            <li>
                                <h4><a href="../shi-jian-zhuan-huan-bu-zai-mi-luan/index.html">不迷乱，时间转换</a></h4>
                                <div class="read-next-card-meta">
                                    <p><time datetime="2018-02-06">6 Feb 2018</time> –
                                        2 min read</p>
                                </div>
                            </li>
                            <li>
                                <h4><a href="../an-li-python/index.html">这些Python模块，必须安利(ing)</a></h4>
                                <div class="read-next-card-meta">
                                    <p><time datetime="2018-02-06">6 Feb 2018</time> –
                                        1 min read</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <footer class="read-next-card-footer">
                        <a href="../tag/python/index.html">See all 4 posts
                            →</a>
                    </footer>
                </article>

                <article class="post-card post tag-after-reading ">

    <a class="post-card-image-link" href="../one-hundred-years-of-solitude/index.html">
        <img class="post-card-image"
            srcset="https://images.unsplash.com/photo-1476469406830-67a1ac41858e?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;ff461d19f0af1ebda37952de3e8efa5c 300w,
                    https://images.unsplash.com/photo-1476469406830-67a1ac41858e?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;ff461d19f0af1ebda37952de3e8efa5c 600w,
                    https://images.unsplash.com/photo-1476469406830-67a1ac41858e?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;ff461d19f0af1ebda37952de3e8efa5c 1000w,
                    https://images.unsplash.com/photo-1476469406830-67a1ac41858e?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;ff461d19f0af1ebda37952de3e8efa5c 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="https://images.unsplash.com/photo-1476469406830-67a1ac41858e?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;ff461d19f0af1ebda37952de3e8efa5c"
            alt="读过《百年孤独》"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../one-hundred-years-of-solitude/index.html">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">After reading</div>
                <h2 class="post-card-title">读过《百年孤独》</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>第一次读马尔克斯的作品，第一次与魔幻现实主义文学接触。书的扉页看到了马尔克斯的简介，知道了遥远的那个年代，他出生于一个叫做阿拉卡塔的海滨小镇。</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
            
                    <div class="author-name-tooltip">
                        luke
                    </div>
            
                    <a href="../author/luke/index.html" class="static-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
</a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../author/luke/index.html">luke</a></span>
                <span class="post-card-byline-date"><time datetime="2017-06-11">11 Jun 2017</time> <span class="bull">&bull;</span> 9 min read</span>
            </div>
        </footer>

    </div>

</article>

                <article class="post-card post tag-linux ">

    <a class="post-card-image-link" href="../shi-yong-de-ubuntuyou-hua-shou-zhang/index.html">
        <img class="post-card-image"
            srcset="https://images.unsplash.com/photo-1457364887197-9150188c107b?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;29fd85889d0aabe55f1c1d0714df4afb 300w,
                    https://images.unsplash.com/photo-1457364887197-9150188c107b?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;29fd85889d0aabe55f1c1d0714df4afb 600w,
                    https://images.unsplash.com/photo-1457364887197-9150188c107b?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;29fd85889d0aabe55f1c1d0714df4afb 1000w,
                    https://images.unsplash.com/photo-1457364887197-9150188c107b?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;29fd85889d0aabe55f1c1d0714df4afb 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="https://images.unsplash.com/photo-1457364887197-9150188c107b?ixlib&#x3D;rb-0.3.5&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;1080&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;s&#x3D;29fd85889d0aabe55f1c1d0714df4afb"
            alt="实用的ubuntu优化手账"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../shi-yong-de-ubuntuyou-hua-shou-zhang/index.html">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">Linux</div>
                <h2 class="post-card-title">实用的ubuntu优化手账</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>之前自己优化原生ubuntu的一些流程：删除无用的软件，配置zsh，配置科学上网，还有美化。</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
            
                    <div class="author-name-tooltip">
                        luke
                    </div>
            
                    <a href="../author/luke/index.html" class="static-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
</a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../author/luke/index.html">luke</a></span>
                <span class="post-card-byline-date"><time datetime="2016-11-06">6 Nov 2016</time> <span class="bull">&bull;</span> 3 min read</span>
            </div>
        </footer>

    </div>

</article>
        </div>
    </div>
</aside>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../index.html">TimePocket</a> &copy; 2019</section>
                <nav class="site-footer-nav">
                    <a href="../index.html">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="../assets/built/casper.js%3Fv=55c99b5a62"></script>

    <script>
        // Parse the URL parameter
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // Give the parameter a variable name
        var action = getParameterByName('action');

        $(document).ready(function () {
            if (action == 'subscribe') {
                $('body').addClass("subscribe-success");
            }

            $('.subscribe-success-message .subscribe-close').click(function () {
                $('.subscribe-success-message').addClass('close');
            });

            // Reset form on opening subscrion overlay
            $('.subscribe-button').click(function() {
                $('.subscribe-overlay form').removeClass();
                $('.subscribe-email').val('');
            });
        });
    </script>

    <script>
    $(document).ready(function () {
        // FitVids - start
        var $postContent = $(".post-full-content");
        $postContent.fitVids();
        // FitVids - end

        // Replace nav with title on scroll - start
        Casper.stickyNavTitle({
            navSelector: '.site-nav-main',
            titleSelector: '.post-full-title',
            activeClass: 'nav-post-title-active'
        });
        // Replace nav with title on scroll - end

        // Hover on avatar
        var hoverTimeout;
        $('.author-list-item').hover(function () {
            var $this = $(this);

            clearTimeout(hoverTimeout);

            $('.author-card').removeClass('hovered');
            $(this).children('.author-card').addClass('hovered');

        }, function () {
            var $this = $(this);

            hoverTimeout = setTimeout(function () {
                $this.children('.author-card').removeClass('hovered');
            }, 800);
        });
    });
</script>


    <script src="https://cdn.bootcss.com/highlight.js/8.0/highlight.min.js"></script>
<script >hljs.initHighlightingOnLoad();</script>

</body>
</html>
